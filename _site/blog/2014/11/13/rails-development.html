
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta content="ChemBio Hub Website" property="og:site_name">
    <meta name="twitter:site" content="@oxchembiohub">
    <meta name="twitter:card" content="summary" />
    
	  <meta name="twitter:description" content="ChemBio Hub is committed to building a wide variety of tools and applications for scientists across the spectrum of chemical biology in Oxford. In order to do this we need to keep up to date in ter...">
	
    
	  <meta content="Beginning developing in Rails" property="og:title">
	  <meta name="twitter:title" content="Beginning developing in Rails">
	
	
	  <meta content="http://chembiohub.ox.ac.uk/assets/img/cbh_og_logo.png" property="og:image">
	  <meta name="twitter:image:src" content="http://chembiohub.ox.ac.uk/assets/img/cbh_og_logo_thumb.png">
	
	
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> 
<link rel="alternate" type="application/rss+xml" title="Chembio Hub Blog" href="/feed.xml">
    <title>Beginning developing in Rails - ChemBio Hub</title>

    <!-- concatenate all the used CSS in these files into clean.css -->
    <!-- build:css /assets/css/clean.css -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="/assets/css/font.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/bootstrapValidator.min.css"/>
    <!-- /build -->
    <link href="/assets/css/cbh-template-header.css" rel="stylesheet">


    <!-- Fonts from Google Fonts -->
  <!-- <link href='https://fonts.googleapis.com/css?family=Lato:300,400,900' rel='stylesheet' type='text/css'> -->

  <script src="/assets/js/vendorjs/jquery-1.11.1.min.js"></script>
    
  <script src="/assets/js/serialize-form.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
  	<!-- Fixed navbar -->
  	<nav class="navbar navbar-default" role="navigation">
  		<div class="container">


  			<div class="navbar-collapse collapse">
  				<ul class="nav navbar-nav navbar-right">
  					<li><a href="/">Home</a></li>
  					<li><a href="/about">About Us</a></li>
                    <li><a href="/applications">Applications</a></li>
  					<li><a href="/blog">Blog</a></li>
  					<li><a href="/events">Events</a></li>
  					<li><a href="#contact">Contact</a></li>
<!--             <li><a href="/whatsnext">What's next?</a></li>
-->            

			<!--<li><a href="/webauth/login">Login</a></li>-->
				</ul>

			</div>


<div class="navbar-header col-xs-12">
	<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
	</button>


	<div class="col-sm-4 col-md-6">
		<div class="col-xs-6 col-sm-8 col-md-6">
			<a id="uni-logo" class="logo-oxweb col-6" href="http://www.ox.ac.uk" onclick='return !window.open(this.href);'>
				<img src="/assets/img/ox_brand1_rev_rect.gif" alt="University of Oxford logo" title="University of Oxford">
			</a>
		</div>
		<div class="col-sm-6 centered">
			<a id="cbh-logo"  href="/" class="hidden-xs hidden-sm col-6">
				<img src="/assets/img/CBH_2_2_LowRes.png" alt="ChemBioHub logo" title="ChemBioHub" style="max-height:78px;">
			</a>
		</div>
	</div>

	<div class="col-sm-8 col-md-6">
		<h1 class="pull-right">
			ChemBio Hub 
		</h1>
	</div>
</div>

</div>
</nav>

<nav id="subheading">
	<div class="container">
		<div class="row">
			<div class="col-sm-6 col-md-6" id="slogan">
				<!-- <h2>Supporting world-class chemical biology research</h2>-->
			</div>
			<div class="col-sm-6 col-md-6" id="social-icons">
				<a href="mailto:info@chembiohub.ox.ac.uk"><img src="/assets/img/social-icons/mail-icon.png" title="Email" alt="Email"></a>
				<a href="https://twitter.com/oxchembiohub" onclick='return !window.open(this.href);'><img src="/assets/img/social-icons/twitter.png" title="@OxChemBioHub" alt="@OxChemBioHub"></a>
				<a href="https://plus.google.com/106725711668905271458" onclick='return !window.open(this.href);'><img src="/assets/img/social-icons/google+.png" title="Google +" alt="Google +"></a>
				<a href="/blog/"><img src="/assets/img/social-icons/rss.png" title="ChemBio Hub blog" alt="ChemBio Hub Blog"></a>
				<a href="https://github.com/thesgc" onclick='return !window.open(this.href);'><img src="/assets/img/social-icons/GitHub-Mark-Light-32px.png" title="GitHub" alt="GitHub"></a>
			</div>
			<div class="login col-sm-6 hidden">

			</div>
		</div>
	</div>
</nav>


    <link href="/assets/css/blog-specific.css" rel="stylesheet">
	<div class="container">

		<div class="row">

			<div class="col-md-9 col-xs-12">

				
<div class="blog-intro">
	Welcome to the ChemBio Hub blog, a place for you to find out more about how we operate at a technical and collaborative level and how you can get involved. You can of course 
	visit the <a href="https://chembiohub.ox.ac.uk">ChemBio Hub website</a> and also follow us on Twitter <a href="https://twitter.com/oxchembiohub" onclick='return !window.open(this.href);'>@OxChemBioHub</a>
</div>
<div class='post'>
  <h1>Beginning developing in Rails</h1>
  <div class='date'>posted 13 Nov 2014 by <a href="mailto:paul.barrett@chembiohub.ox.ac.uk">Paul Barrett</a></div>
  <div class='body'><p>ChemBio Hub is committed to building a wide variety of tools and applications for scientists across the spectrum of chemical biology in Oxford. In order to do this we need to keep up to date in terms of programming techniques and languages.</p>

<p>An opportunity to do this came up recently when we needed an application to allow a brief walk-up survey at the recent ChemBio Hub symposium. It was decided that a simple yes/no system should be used to ask people about a small number of concepts which ChemBio Hub could provide applications or information for, which we could then narrow down based on the results of the survey.</p>

<p>Since it was a small application, it fitted well as a tutorial application for Ruby on Rails, additionally, it was similar to one of the existing official Rails tutorials at [link].</p>

<p>The spec for the application was as follows:
- users should be able to walk up without entering any personal information to take the survey;
- the survey should be a linear app, displaying a new question when an answer is given;
- the survey should have a set number of questions (interests), each with a title, descriptive photo and help text;
- each question should have multiple true or false (<em>boolean</em>) answers (preferences) associated with it, which make up the results of the survey;
- on reaching the end of the survey, the user should be informed they have completed and the next person should use the same screen to start the survey.</p>

<p>I began by creating a new Rails app via the command line</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rails</span> <span class="kp">new</span> <span class="n">questionapp</span></code></pre></div>

<p>I created objects called interest (the question) and preference (the answer). Each preference belonged to a single interest. An interest could have many preferences. I created these from the command line as directed by the Rails tutorial.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rails</span> <span class="n">g</span> <span class="n">model</span> <span class="no">Interest</span> <span class="ss">title</span><span class="p">:</span><span class="n">string</span> <span class="ss">img_path</span><span class="p">:</span><span class="n">string</span> <span class="ss">help_string</span><span class="p">:</span><span class="n">text</span>

<span class="n">rails</span> <span class="n">g</span> <span class="n">model</span> <span class="no">Preference</span> <span class="ss">is_preferred</span><span class="p">:</span><span class="n">boolean</span> <span class="ss">interest</span><span class="p">:</span><span class="n">references</span> <span class="ss">date</span><span class="p">:</span><span class="n">timestamp</span></code></pre></div>

<p>I created controllers for interests and preferences to handle the flow of input into the application. Again this was done via the command line.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rails</span> <span class="n">g</span> <span class="n">controller</span> <span class="n">interests</span>

<span class="n">rails</span> <span class="n">generate</span> <span class="n">controller</span> <span class="no">Preferences</span></code></pre></div>

<p>The key functionality of the app is located in <code>preferences_controller.rb</code>. When an answer is given, a preference must be created representing that answer and cause a redirect to the next question - or if this is the last question, direct to the completion page (which is also the start page!):</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">create</span>
  <span class="vi">@interest</span> <span class="o">=</span> <span class="no">Interest</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:interest_id</span><span class="o">]</span><span class="p">)</span>
  <span class="n">pref</span> <span class="o">=</span> <span class="kp">false</span>
  <span class="k">if</span> <span class="n">params</span><span class="o">[</span><span class="ss">:submit</span><span class="o">]</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span>
	  <span class="n">pref</span> <span class="o">=</span> <span class="kp">true</span>
  <span class="k">end</span>

  <span class="vi">@preference</span> <span class="o">=</span> <span class="vi">@interest</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">is_preferred</span><span class="p">:</span> <span class="n">pref</span><span class="p">)</span>
  <span class="k">if</span> <span class="vi">@interest</span><span class="o">.</span><span class="n">next</span>
    <span class="n">redirect_to</span> <span class="vi">@interest</span><span class="o">.</span><span class="n">next</span>
  <span class="k">else</span>
    <span class="n">redirect_to</span> <span class="n">completed_path</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>All of the code for this application is available at <a href="https://github.com/thesgc/chembiohub-qanda" onclick="return !window.open(this.href);"></a>. You may fork this code as you wish and use it in your own applications or for learning purposes.</p>
 <a class="scrollToTop blue pull-right">Back to top <span class="glyphicon glyphicon-upload"></span></a> <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'chembiohub'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js?https';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

</div>


			</div>

			<div class="col-md-3 col-xs-12">
				<div class="archive">
	<h2 class="blue"><span class="glyphicon glyphicon-home"></span> <a href="/blog/">All posts</a></h2>
	<ul id="archive">
	
		<li><a href="/blog/2015/09/08/rdkit-ugm-2105.html">RDKit UGM 2015 - A ChemBio Hub perspective</a><br/><abbr>08 Sep 2015</abbr></li>
	
		<li><a href="/blog/2015/07/27/conversation-warmup.html">One week to go! Current Expertise and Future Directions In Drug Discovery</a><br/><abbr>27 Jul 2015</abbr></li>
	
		<li><a href="/blog/2015/03/10/pains.html">Pan-Assay Interference Compounds (PAINS) - what they are & why they matter</a><br/><abbr>10 Mar 2015</abbr></li>
	
		<li><a href="/blog/2015/03/10/introducing-chemreg-compound-registration-system.html">Introducing ChemReg - The ChemBio Hub compound registration system</a><br/><abbr>10 Mar 2015</abbr></li>
	
		<li><a href="/blog/2014/12/19/open-innovation.html">The Future of Drug Discovery - Open Innovation</a><br/><abbr>19 Dec 2014</abbr></li>
	
		<li><a href="/blog/2014/12/15/registration-workshop.html">Workshop on recording and managing data related to small molecules - 9th December 2014</a><br/><abbr>15 Dec 2014</abbr></li>
	
		<li><a href="/blog/2014/12/09/opencon-2.html">Some thoughts from Open Con 2014&#58; discovery tools</a><br/><abbr>09 Dec 2014</abbr></li>
	
		<li><a href="/blog/2014/12/01/opencon-1.html">Some thoughts from OpenCon 2014&#58; open data</a><br/><abbr>01 Dec 2014</abbr></li>
	
		<li><a href="/blog/2014/11/13/rails-development.html">Beginning developing in Rails</a><br/><abbr>13 Nov 2014</abbr></li>
	
		<li><a href="/blog/2014/11/13/oxcbh-symposium.html">The first ChemBio Hub Symposium - what happened?</a><br/><abbr>13 Nov 2014</abbr></li>
	
		<li><a href="/blog/2014/11/11/symp-survey.html">ChemBio Hub 2014 Symposium walk-up survey results</a><br/><abbr>11 Nov 2014</abbr></li>
	
		<li><a href="/blog/2014/10/22/oommppaa-directed-synthesis-data-analysis-tool.html">OOMMPPAA - directed synthesis and data analysis tool</a><br/><abbr>22 Oct 2014</abbr></li>
	
		<li><a href="/blog/2014/10/02/UX-in-scientific-software.html">UX in Scientific Software</a><br/><abbr>02 Oct 2014</abbr></li>
	
		<li><a href="/blog/2014/09/30/chembiocrunch-a-data-management-tool.html">ChemBio Crunch - A simple tool to analyse and manipulate ChemBio assay data</a><br/><abbr>30 Sep 2014</abbr></li>
	
		<li><a href="/blog/2014/09/02/setting-up.html">Setting up the ChemBioHub blog</a><br/><abbr>02 Sep 2014</abbr></li>
	
	</ul>
</div>
			</div>

		</div>


	</div>



    <div id="footer" class="footer">
    	<div class="container">
            
    		<div class="row ">

    			<!-- Postal address -->
                <a id="contact"></a>
                <button class="btn pull-right scrollToTop btn-lg">Back to top <span class="glyphicon glyphicon-upload"></span> </button>
    			<div class="col-md-4 col-sm-6 col-xs-11" id="postal-address">
    				<div class="row">
	    				<div class="col-xs-1">
	    					<span class="glyphicon glyphicon-home"></span>
	    				</div>
	    				<div class="col-xs-10">
	    					<span>ChemBio Hub Project<br/>
		    				Old Road Campus Research Building<br/>
		    				Roosevelt Drive<br/>
		    				Oxford OX3 7DQ</span>
	    				</div>
	    			</div>

	    			<div class="row">
	    				<div class="col-xs-1">
	    					<span class="glyphicon glyphicon-earphone"></span>
	    				</div>
	    				<div class="col-xs-10">
	    					<span>01865 617577</span>
	    				</div>
	    			</div>
    				
    			</div>

    			<div class="col-md-3 col-sm-6 hidden-xs">
    				<div class="row">
	    				<a href="https://twitter.com/oxchembiohub" onclick='return !window.open(this.href);'><img src="/assets/img/social-icons/twitter.png" class="social-icon" alt="twitter logo" title="twitter logo" /> Follow @OxChemBioHub</a><br/>
	    				<a href="mailto:info@chembiohub.ox.ac.uk"><img src="/assets/img/social-icons/mail-icon.png" class="social-icon" alt="email logo" title="email logo" /> Email ChemBio Hub</a><br/>
	    				<a href="https://plus.google.com/106725711668905271458" onclick='return !window.open(this.href);'><img src="/assets/img/social-icons/google+.png" class="social-icon" alt="google+ logo" title="google+ logo" /> Follow +OxChemBioHub</a>
	    			</div>
    			</div>

                

    		</div>

    		<div class="row center">


    			<div class="hidden-xs funding">
    				<div class="row">
    					We gratefully acknowledge the support of the following organisations:
    				</div>
    				<div class="row">

    					<img src="/assets/img/funders/ndm.png" title="Nuffield Department of Medicine Medical Sciences Division" alt="Nuffield Department of Medicine Medical Sciences Division"/>
    					<img src="/assets/img/funders/welcome.png" title="Supported by Wellcome Trust" alt="Supported by Wellcome Trust"/>
    					<img src="/assets/img/funders/hefce.png" title="Higher Education Funding Council For England" alt="Higher Education Funding Council For England" />
    					<img src="/assets/img/funders/johnfell.png" title="John Fell Fund" alt="John Fell Fund"/>

    				</div>
    			</div>

    			<div onclick="window.location='/about#funding'" class="visible-xs">
    				Thank you to our funding partners
    			</div>

    		</div>

    		<div class="row center copyright">

    			Copyright University of Oxford 2015 <!-- || Accessibility || Sitemap || Cookie policy -->

    		</div>

    	</div>
    </div>


    
     <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
     <script type="text/javascript" src="/assets/js/vendorjs/bootstrapValidator.min.js"></script>
     <script type="text/javascript" src="/assets/js/vendorjs/d3.min.js"></script>
    <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-55063522-1');ga('send','pageview');


/* Track outbound links in Google Analytics */
(function($) {
 
  "use strict";
 
  // current page host
  var baseURI = window.location.host;
 
  // click event on body
  $("body").on("click", function(e) {
 
    // abandon if link already aborted or analytics is not available
    if (e.isDefaultPrevented() || typeof ga !== "function") return;
 
    // abandon if no active link or link within domain
    var link = $(e.target).closest("a");
    if (link.length != 1 || baseURI == link[0].host) return;

    // cancel event and record outbound link
    e.preventDefault();
    var href = link[0].href;
    ga('send', {
      'hitType': 'event',
      'eventCategory': 'outbound',
      'eventAction': 'link',
      'eventLabel': href,
      'hitCallback': loadPage
    });
 
    // redirect after one second if recording takes too long
    setTimeout(loadPage, 1000);
 
    // redirect to outbound page
    function loadPage() {
      document.location = href;
    }
 
  });
 
})(jQuery); 

$(document).ready(function() {
    $('.scrollToTop').click(function(){
        $('html, body').animate({scrollTop : 0},800);
        return false;
    });
    $('#floating-register').affix({
      /*offset: {
        top: 100,
        bottom: function () {
          return (this.bottom = $('.footer').outerHeight(true) + 40)
        }
      }*/
    })

});
</script>

   

    <script type="text/javascript" src="/assets/js/vendorjs/jquery.contenthover.min.js"></script>

</body>
</html>
